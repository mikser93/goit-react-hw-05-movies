{"version":3,"file":"static/js/906.3c18a6fe.chunk.js","mappings":"2NACA,EAA0B,4BAA1B,EAA6D,yBAA7D,EAA6F,yB,SCI9E,SAASA,IACpB,OAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAkCF,EAAAA,EAAAA,UAAS,MAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KAoBA,OAlBAC,EAAAA,EAAAA,YAAU,WACFP,EAAaQ,IAAI,WACjBC,EAAAA,EAAAA,IAAaT,EAAaQ,IAAI,UACzBE,MAAK,SAAAC,GAAI,OAAIL,EAAaK,EAAKC,QAAtB,IACTC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAhB,GAErB,GAAE,CAACd,KAaA,iBAAKiB,UAAWC,EAAhB,WACI,kBAAMD,UAAWC,EAAQC,SARjC,SAAsBC,GAClBA,EAAMC,iBACNpB,EAAgB,CAAEE,MAAAA,IAClBC,EAAS,GACZ,EAIO,WACI,kBAAOkB,KAAK,OAAOC,MAAOpB,EAAOqB,SAb7C,SAAsBJ,GAClBhB,EAASgB,EAAMK,OAAOF,MACzB,KAYW,2CAEJ,eAAIN,UAAWC,EAAf,gBACKb,QADL,IACKA,OADL,EACKA,EAAWqB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,eAAP,OACZ,yBAAa,SAAC,KAAD,CAAMC,GAAE,kBAAaF,GAAMG,MAAK,wBAAmB9B,EAAaQ,IAAI,UAApE,SAAiFoB,KAArFD,EADG,QAM/B,C,uJCzCD,IAAMI,EAAU,mCAEHC,EAAc,WACvB,OAAOC,MAAM,2DAAD,OAA4DF,IACnErB,MAAK,SAAAC,GACF,IAAKA,EAAKuB,GACN,MAAM,IAAIC,MAAMxB,EAAKyB,QAEzB,OAAOzB,EAAK0B,MACf,GACR,EAEY5B,EAAe,SAACN,GACzB,OAAO8B,MAAM,qDAAD,OAAsDF,EAAtD,kBAAuE5B,IAC9EO,MAAK,SAAAC,GACF,IAAKA,EAAKuB,GACN,MAAM,IAAIC,MAAMxB,EAAKyB,QAEzB,OAAOzB,EAAK0B,MACf,GACR,EAEYC,EAAkB,SAACX,GAC5B,OAAOM,MAAM,sCAAD,OAAuCN,EAAvC,oBAAqDI,IAC5DrB,MAAK,SAAAC,GACF,IAAKA,EAAKuB,GACN,MAAM,IAAIC,MAAMxB,EAAKyB,QAEzB,OAAOzB,EAAK0B,MACf,GACR,EAEYE,EAAiB,SAACZ,GAC3B,OAAOM,MAAM,sCAAD,OAAuCN,EAAvC,4BAA6DI,IACpErB,MAAK,SAAAC,GACF,IAAKA,EAAKuB,GACN,MAAM,IAAIC,MAAMxB,EAAKyB,QAEzB,OAAOzB,EAAK0B,MACf,GACR,EAEYG,EAAkB,SAACb,GAC5B,OAAOM,MAAM,sCAAD,OAAuCN,EAAvC,4BAA6DI,IACpErB,MAAK,SAAAC,GACF,IAAKA,EAAKuB,GACN,MAAM,IAAIC,MAAMxB,EAAKyB,QAEzB,OAAOzB,EAAK0B,MACf,GACR,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx","services/requestsAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MoviesPage_wrapper__EBegj\",\"form\":\"MoviesPage_form__2deBf\",\"list\":\"MoviesPage_list__PJZqT\"};","import { useState, useEffect } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { searchMovies } from '../../services/requestsAPI';\nimport s from './MoviesPage.module.css';\n\nexport default function MoviesPage() {\n    const [searchParams, setSearchParams] = useSearchParams();\n    const [query, setQuery] = useState('');\n    const [movieData, setMovieData] = useState(null);\n\n    useEffect(() => {\n        if (searchParams.get(\"query\")) {\n            searchMovies(searchParams.get(\"query\"))\n                .then(resp => setMovieData(resp.results))\n                .catch(err => console.log(err));\n        };\n    }, [searchParams]);\n\n    function handleChange(event) {\n        setQuery(event.target.value);\n    };\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        setSearchParams({ query });\n        setQuery('');\n    };\n    \n    return (\n        <div className={s.wrapper}>\n            <form className={s.form} onSubmit={handleSubmit}>\n                <input type=\"text\" value={query} onChange={handleChange} />\n                <button>Search</button>\n            </form>\n            <ul className={s.list}>\n                {movieData?.map(({ id, original_title }) => (\n                    <li key={id}><Link to={`/movies/${id}`} state={`/movies?query=${searchParams.get(\"query\")}`}>{original_title}</Link></li>\n                ))}\n            </ul>\n        </div>\n    );\n};","const API_KEY = '37deb310e61664139196705f69cb28d6';\n\nexport const getTrending = () => {\n    return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.status);\n            }\n            return resp.json();\n        });\n};\n\nexport const searchMovies = (query) => {\n    return fetch(`https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.status);\n            }\n            return resp.json();\n        });\n};\n\nexport const getMovieDetails = (id) => {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.status);\n            }\n            return resp.json();\n        });\n};\n\nexport const getMovieActors = (id) => {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.status);\n            }\n            return resp.json();\n        });\n};\n\nexport const getMovieReviews = (id) => {\n    return fetch(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}`)\n        .then(resp => {\n            if (!resp.ok) {\n                throw new Error(resp.status);\n            }\n            return resp.json();\n        });\n};"],"names":["MoviesPage","useSearchParams","searchParams","setSearchParams","useState","query","setQuery","movieData","setMovieData","useEffect","get","searchMovies","then","resp","results","catch","err","console","log","className","s","onSubmit","event","preventDefault","type","value","onChange","target","map","id","original_title","to","state","API_KEY","getTrending","fetch","ok","Error","status","json","getMovieDetails","getMovieActors","getMovieReviews"],"sourceRoot":""}
{"version":3,"file":"static/js/906.3c18a6fe.chunk.js","mappings":"2NACA,EAA0B,4BAA1B,EAA6D,yBAA7D,EAA6F,yB,SCI9E,SAASA,IACtB,OAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAkCF,EAAAA,EAAAA,UAAS,MAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KAoBA,OAlBAC,EAAAA,EAAAA,YAAU,WACJP,EAAaQ,IAAI,WACnBC,EAAAA,EAAAA,IAAaT,EAAaQ,IAAI,UAC3BE,MAAK,SAAAC,GAAI,OAAIL,EAAaK,EAAKC,QAAtB,IACTC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,EAAhB,GAEf,GAAE,CAACd,KAaF,iBAAKiB,UAAWC,EAAhB,WACE,kBAAMD,UAAWC,EAAQC,SAR7B,SAAsBC,GACpBA,EAAMC,iBACNpB,EAAgB,CAAEE,MAAAA,IAClBC,EAAS,GACV,EAIG,WACE,kBAAOkB,KAAK,OAAOC,MAAOpB,EAAOqB,SAbvC,SAAsBJ,GACpBhB,EAASgB,EAAMK,OAAOF,MACvB,KAYK,2CAEF,eAAIN,UAAWC,EAAf,gBACGb,QADH,IACGA,OADH,EACGA,EAAWqB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,eAAP,OACd,yBACE,SAAC,KAAD,CACEC,GAAE,kBAAaF,GACfG,MAAK,wBAAmB9B,EAAaQ,IAAI,UAF3C,SAIGoB,KALID,EADK,QAavB,C,uJChDD,IAAMI,EAAU,mCAEHC,EAAc,WACzB,OAAOC,MAAM,2DAAD,OACiDF,IAC3DrB,MAAK,SAAAC,GACL,IAAKA,EAAKuB,GACR,MAAM,IAAIC,MAAMxB,EAAKyB,QAEvB,OAAOzB,EAAK0B,MACb,GACF,EAEY5B,EAAe,SAAAN,GAC1B,OAAO8B,MAAM,qDAAD,OAC2CF,EAD3C,kBAC4D5B,IACtEO,MAAK,SAAAC,GACL,IAAKA,EAAKuB,GACR,MAAM,IAAIC,MAAMxB,EAAKyB,QAEvB,OAAOzB,EAAK0B,MACb,GACF,EAEYC,EAAkB,SAAAX,GAC7B,OAAOM,MAAM,sCAAD,OAC4BN,EAD5B,oBAC0CI,IACpDrB,MAAK,SAAAC,GACL,IAAKA,EAAKuB,GACR,MAAM,IAAIC,MAAMxB,EAAKyB,QAEvB,OAAOzB,EAAK0B,MACb,GACF,EAEYE,EAAiB,SAAAZ,GAC5B,OAAOM,MAAM,sCAAD,OAC4BN,EAD5B,4BACkDI,IAC5DrB,MAAK,SAAAC,GACL,IAAKA,EAAKuB,GACR,MAAM,IAAIC,MAAMxB,EAAKyB,QAEvB,OAAOzB,EAAK0B,MACb,GACF,EAEYG,EAAkB,SAAAb,GAC7B,OAAOM,MAAM,sCAAD,OAC4BN,EAD5B,4BACkDI,IAC5DrB,MAAK,SAAAC,GACL,IAAKA,EAAKuB,GACR,MAAM,IAAIC,MAAMxB,EAAKyB,QAEvB,OAAOzB,EAAK0B,MACb,GACF,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx","services/requestsAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MoviesPage_wrapper__EBegj\",\"form\":\"MoviesPage_form__2deBf\",\"list\":\"MoviesPage_list__PJZqT\"};","import { useState, useEffect } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { searchMovies } from '../../services/requestsAPI';\nimport s from './MoviesPage.module.css';\n\nexport default function MoviesPage() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [query, setQuery] = useState('');\n  const [movieData, setMovieData] = useState(null);\n\n  useEffect(() => {\n    if (searchParams.get('query')) {\n      searchMovies(searchParams.get('query'))\n        .then(resp => setMovieData(resp.results))\n        .catch(err => console.log(err));\n    }\n  }, [searchParams]);\n\n  function handleChange(event) {\n    setQuery(event.target.value);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    setSearchParams({ query });\n    setQuery('');\n  }\n\n  return (\n    <div className={s.wrapper}>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <input type=\"text\" value={query} onChange={handleChange} />\n        <button>Search</button>\n      </form>\n      <ul className={s.list}>\n        {movieData?.map(({ id, original_title }) => (\n          <li key={id}>\n            <Link\n              to={`/movies/${id}`}\n              state={`/movies?query=${searchParams.get('query')}`}\n            >\n              {original_title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","const API_KEY = '37deb310e61664139196705f69cb28d6';\n\nexport const getTrending = () => {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.status);\n    }\n    return resp.json();\n  });\n};\n\nexport const searchMovies = query => {\n  return fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.status);\n    }\n    return resp.json();\n  });\n};\n\nexport const getMovieDetails = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.status);\n    }\n    return resp.json();\n  });\n};\n\nexport const getMovieActors = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.status);\n    }\n    return resp.json();\n  });\n};\n\nexport const getMovieReviews = id => {\n  return fetch(\n    `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}`\n  ).then(resp => {\n    if (!resp.ok) {\n      throw new Error(resp.status);\n    }\n    return resp.json();\n  });\n};\n"],"names":["MoviesPage","useSearchParams","searchParams","setSearchParams","useState","query","setQuery","movieData","setMovieData","useEffect","get","searchMovies","then","resp","results","catch","err","console","log","className","s","onSubmit","event","preventDefault","type","value","onChange","target","map","id","original_title","to","state","API_KEY","getTrending","fetch","ok","Error","status","json","getMovieDetails","getMovieActors","getMovieReviews"],"sourceRoot":""}